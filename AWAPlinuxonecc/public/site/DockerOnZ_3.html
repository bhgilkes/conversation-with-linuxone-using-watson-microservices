<!DOCTYPE html>
<html lang="en">
<head>
<title>Docker on z Page3</title>
<meta charset="utf-8">
<link rel="stylesheet" href="css/reset.css" type="text/css" media="all">
<link rel="stylesheet" href="css/layout.css" type="text/css" media="all">
<link rel="stylesheet" href="css/style.css" type="text/css" media="all">
<script type="text/javascript" src="js/jquery-1.4.2.js" ></script>
<script type="text/javascript" src="js/cufon-yui.js"></script>
<script type="text/javascript" src="js/cufon-replace.js"></script>
<script type="text/javascript" src="js/CabinSketch_700.font.js"></script>
<script type="text/javascript" src="js/EB_Garamond_400.font.js"></script>
<!-- [if lt IE 9]>
<script type="text/javascript" src="js/html5.js"></script>
<style type="text/css">
.bg {behavior:url(js/PIE.htc)}
</style>
<![endif]-->
<!-- [if lt IE 7]>
<div style='clear:both;text-align:center;position:relative'>
	<a href="http://www.microsoft.com/windows/internet-explorer/default.aspx?ocid=ie6_countdown_bannercode"><img src="http://www.theie6countdown.com/images/upgrade.jpg" border="0" alt="" /></a>
</div>
<![endif]-->
</head>
<body id="page4">
<div class="main">
<!-- header -->
	<header>
		<div class="wrapper">
			<nav>
				<ul id="menu">
					<li><a href="index.html"><span>A</span>bout</a></li>
					<li><a href="Services.html"><span>S</span>ervices</a></li>
					<li><a href="Gallery.html"><span>U</span>se Cases</a></li>
					<li id="menu_active"><a href="Privacy.html"><span>C</span>ognitive z</a></li>
					<li><a href="Contacts.html"><span>C</span>ontacts</a></li>
				</ul>
			</nav>
		</div>
		<h1><a href="index.html" id="logo">DesignStudio.com</a></h1>
	</header><div class="ic">More Website Templates at TemplateMonster.com!</div>
<!-- / header -->
<!-- content -->
	<section id="content">
		<div class="wrapper">
			<article class="col1">
				<h2>Benchmarking containers</h2>
				<div class="pad">
					<p><strong>Look for a container</strong> sudo docker ps -a</p>
					<p><strong>Start the container</strong> sudo docker start "ContainerID"</p>
					<p><strong>Get into the container</strong> sudo docker attach "ContainerID"</p>
					<p><strong>Install sysbench tool</strong> apt-get install sysbench</p>
					<p><strong>Run sysbench</strong> sysbench --test=cpu --num-threads=1 run</p>
				<h2>View Docker processes</h2>
					<p><strong>On the host run the command</strong> systemd-cgls  .You can look for the ContainerID </p>
				<h2>Who's consuming ?</h2>
					<p><strong>On the host run the command</strong> systemd-cgtop </p>
					<p><strong>Run again a sysbench in the container</strong> sysbench --test=cpu --num-threads=1 run  . You can see the docker process getting in the top list</p>
					<p><strong>Change cpu shares</strong> sudo systemctl set-property docker-4be96b853089bc6044b29cb873cac460b429cfcbdd0e877c0868eb2a901dbf80.scope CPUShares=512  Note: Add --runtime to change the setting temporarily. Otherwise, this setting will be remembered when the host is restarted</p>
					<p><strong>Limit memory (default is no limit !)</strong> sudo docker run -it --rm -m 128m fedora bash   Note2: -m limits the container memory (it allows the same -m amount for the swap) </p>
					<p><strong><a href="https://goldmann.pl/blog/2014/09/11/resource-management-in-docker/" target="_blank"> More on Docker Resource Management</a></strong>  </p>


				<a href="DockerOnZ_2.html"><img src="images/marker_left.png" alt="PREVIOUS"></a>
				</div>
    		</article>
			<article class="col2">
				<h3>Latest Works</h3>
				<ul class="ul_works">
					<li><a href="#"><img src="images/page1_img1.png" alt=""></a></li>
					<li><a href="#"><img src="images/page1_img2.png" alt=""></a></li>
				</ul>
				<h4>Recent Tweets</h4>
				<div class="tweets">
					<p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem.<br><a href="#">20 days ago</a></p>
					<p>Accusantium doloremque laudatium, totam rem aperiam, eaque ipsa.<br><a href="#">36 days ago</a></p>
					<p>Nemo enim ipsam voluptatem quia voluptas.<br><a href="#">54 days ago</a></p>
				</div>
    		</article>
		</div>
	</section>
<!-- / content -->
<!-- footer -->
	<footer>
		<div class="wrapper">
			<article class="col">
				<h5>Our team</h5>
				<ul class="list1">
					<li><a href="#">Sylvain Carta - Virtualization on z Expert</a></li>
					<li><a href="#">Marie-Helene Eve - Cost & Value studies</a></li>
					<li><a href="#">SÃ©bastien LLaurency - Linux & Cloud Lead Architect </a></li>
					<li><a href="#">Yannick Le Floch - zATS Support Center Manager</a></li>
				</ul>
			</article>
			<article class="col pad_left2">
				<h5>Links</h5>
				<ul class="list1">
					<li><a href="#">IBM Montpellier Client Center Community </a></li>
					<li><a href="https://www-304.ibm.com/systems/clientcenterdemonstrations/faces/dcHome.jsp">IBM Client Demonstration Center</a></li>
					<li><a href="#">IBM z Systems Offerings</a></li>
				</ul>
			</article>
			<article class="col pad_left2">
				<h5>Follow Me</h5>
				<ul class="icons">
					<li><a href="#"><img src="images/icon1.jpg" alt="">LinkedIn</a></li>
					<li><a href="#"><img src="images/icon3.jpg" alt="">Twitter</a></li>
					<li><a href="#"><img src="images/icon5.jpg" alt="">RSS Feed</a></li>
				</ul>
			</article>
			<article id="newsletter">
				<h5>Newsletter</h5>
				<form id="newsletter_form">
					<div class="wrapper">
						<input class="input" type="text" value="Enter your email here" onblur="if(this.value=='') this.value='Enter your email here'" onFocus="if(this.value =='Enter your email here' ) this.value=''" >
					</div>
					<a href="#" onClick="document.getElementById('newsletter_form').submit()">Subscribe</a>
				</form>
			</article>
		</div>
		<article class="privacy">
			<a rel="nofollow" href="http://www.templatemonster.com/">Website template</a> designed by TemplateMonster.com<br><a href="http://www.templates.com/product/3d-models/">3D Models</a> provided by Templates.com
		</article>
		<a href="index.html" class="footer_logo">SebLL<span>Cognitive Demo Center</span>.IO</a>
	</footer>
<!-- / footer -->
</div>
<script type="text/javascript">Cufon.now();</script>
</body>
</html>
